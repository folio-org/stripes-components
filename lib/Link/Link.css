/**
 * Link
 */

@import '../variables.css';

:root {
  --link-color-default: var(--color-link);
  --link-border-color-default: #d7dfeb;

  --link-color-hover: #23385a;
  --link-border-color-hover: var(--link-color-hover);

  --link-color-active: var(--color-text);
  --link-border-color-active: var(--link-color-active);

  --link-color-visited: var(--color-link-visited);
  --link-border-color-visited: var(--link-color-visited);
  
  --link-border-color-focus: #3b5f9a;
  --link-box-shadow-focus: 0 0 0 3px var(--color-fill-focus);
}

.root {
  color: var(--link-color-default);
  position: relative;
  outline: 0;

  /* CSS trick for adding border bottom with multiline support */
  background-repeat: repeat-x;
  background-position: 0 1.2em;
  background-size: 100% 1px;
  background-image: linear-gradient(to right, var(--link-border-color-default), var(--link-border-color-default));

  /* Focus */
  &::before {
    border-radius: var(--radius);
    border: 1px solid var(--link-border-color-focus);
    bottom: 0;
    box-shadow: var(--link-box-shadow-focus);
    content: "";
    left: -2px;
    display: none;
    position: absolute;
    right: -2px;
    top: 0;
    z-index: -1;
  }

  &:focus {
    background-image: none;
    display: inline-block;

    /* Activates focus outline */
    &::before {
      display: block;
    }
  }

  /* Visited */
  &:visited {
    color: var(--link-color-visited);
    background-image: linear-gradient(to right, var(--link-border-color-visited), var(--link-border-color-visited));
  }  

  /* Hover */
  &:hover {
    color: var(--link-color-hover);

    &:not(:focus) {
      background-image: linear-gradient(to right, var(--link-border-color-hover), var(--link-border-color-hover));
    }
  }

  /* Active */
  &:active {
    color: var(--link-color-active);
    display: inline;
    background-image: linear-gradient(to right, var(--link-border-color-active), var(--link-border-color-active));

    &::before {
      display: none;
    }
  }
}