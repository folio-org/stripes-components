"use strict";(self.webpackChunk_folio_stripes_components=self.webpackChunk_folio_stripes_components||[]).push([[5622],{"./lib/HotKeys/stories/HotKeys.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  CommandList: () => (/* binding */ HotKeys_stories_CommandList),\n  _BasicUsage: () => (/* binding */ _BasicUsage),\n  __namedExportsOrder: () => (/* binding */ __namedExportsOrder),\n  "default": () => (/* binding */ HotKeys_stories)\n});\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("./node_modules/react/index.js");\n// EXTERNAL MODULE: ./node_modules/@storybook/addon-actions/dist/index.mjs + 1 modules\nvar dist = __webpack_require__("./node_modules/@storybook/addon-actions/dist/index.mjs");\n// EXTERNAL MODULE: ./lib/TextField/TextField.js\nvar TextField = __webpack_require__("./lib/TextField/TextField.js");\n// EXTERNAL MODULE: ./lib/Button/Button.js + 1 modules\nvar Button = __webpack_require__("./lib/Button/Button.js");\n// EXTERNAL MODULE: ./lib/MultiColumnList/MultiColumnList.js + 17 modules\nvar MultiColumnList = __webpack_require__("./lib/MultiColumnList/MultiColumnList.js");\n// EXTERNAL MODULE: ./node_modules/@folio/stripes-react-hotkeys/index.es.js\nvar index_es = __webpack_require__("./node_modules/@folio/stripes-react-hotkeys/index.es.js");\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__("./node_modules/react/jsx-runtime.js");\n;// CONCATENATED MODULE: ./lib/HotKeys/stories/BasicUsage.js\n/**\n * HotKeys -> Basic usage\n */\n\n\n\n\n\n\n\n\nconst outerOuterEnter = (0,dist/* action */.XI)(\'outer_outer_enter\');\nconst outerInnerEnter = (0,dist/* action */.XI)(\'outer_inner_enter\');\nconst innerOuterEnter = (0,dist/* action */.XI)(\'inner_outer_enter\');\nconst innerInnerEnter = (0,dist/* action */.XI)(\'inner_inner_enter\');\nconst tabOuterHandler = (0,dist/* action */.XI)(\'tabOuter\');\nconst tabInnerHandler = (0,dist/* action */.XI)(\'tabInner\');\nconst altOuterHandler = (0,dist/* action */.XI)(\'altOuter\');\nconst altInnerHandler = (0,dist/* action */.XI)(\'altInner\');\nconst outerDownHandler = (0,dist/* action */.XI)(\'downHandler\');\nconst outerKeyMap = {\n  \'ENTER_OUTER\': \'enter\',\n  \'TAB\': \'tab\'\n};\nconst innerKeyMap = {\n  \'ENTER_INNER\': \'enter\',\n  \'ALT\': \'alt\'\n};\nconst outerHandlers = {\n  \'ENTER_OUTER\': outerOuterEnter,\n  \'TAB\': tabOuterHandler,\n  \'ENTER_INNER\': outerInnerEnter,\n  \'ALT\': altOuterHandler\n};\nconst innerHandlers = {\n  \'ENTER_OUTER\': innerOuterEnter,\n  \'TAB\': tabInnerHandler,\n  \'ENTER_INNER\': innerInnerEnter,\n  \'ALT\': altInnerHandler\n};\nconst alternativeOuterKey = {\n  \'TAB\': \'down\'\n};\nconst alternativeOuterHandler = {\n  \'TAB\': outerDownHandler\n};\nconst hotkeyData = [{\n  HotKey: \'alt\',\n  outerField: \'not mapped\',\n  innerField: \'altInner\'\n}, {\n  HotKey: \'enter\',\n  outerField: \'outer_outer_enter\',\n  innerField: \'inner_inner_enter\'\n}, {\n  HotKey: \'tab\',\n  outerField: \'tabOuter\',\n  innerField: \'tabInner\'\n}];\nconst BasicUsage = () => {\n  const [value, setValue] = (0,react.useState)(\'fill\');\n  const [outerH, setOuterH] = (0,react.useState)(outerHandlers);\n  const [outerK, setOuterK] = (0,react.useState)(outerKeyMap);\n  const changeKey = () => {\n    setOuterK(current => {\n      return Object.assign({}, current, alternativeOuterKey);\n    });\n  };\n  const changeHandler = () => {\n    setOuterH(current => {\n      return Object.assign({}, current, alternativeOuterHandler);\n    });\n  };\n\n  /* eslint-disable max-len */\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)("h2", {\n      children: "HotKeys"\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n      children: "This table describes the mapping of the keyboard keys for the below example. In code, the tab key is mapped at the outside level, and the inner field applies its own handler. \\"ALT\\" is only mapped to the inner field. You can see output from pressing hot keys in the \\"Action Logger\\" panel below."\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(MultiColumnList/* default */.A, {\n      contentData: hotkeyData\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n      children: "The scope of a hotKey\'s affect in the UI is dictated by focus. When your focus indicator (blue outline in most browsers) is within the blue (outer) or orange (inner) borders, the scope is to the corresponding HotKeys instance."\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(index_es.HotKeys, {\n      keyMap: outerK,\n      handlers: outerH,\n      id: "outer",\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n        style: {\n          border: \'1px dashed blue\',\n          padding: \'10px\'\n        },\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(TextField/* default */.A, {\n          label: "Outer field",\n          value: value,\n          onChange: e => {\n            setValue(e.target.value);\n          }\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(index_es.HotKeys, {\n          keyMap: innerKeyMap,\n          handlers: innerHandlers,\n          id: "inner",\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n            style: {\n              border: \'1px dashed orange\',\n              padding: \'10px\'\n            },\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)(TextField/* default */.A, {\n              label: "Inner field"\n            })\n          })\n        })]\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n      children: "The buttons below will modify the mapped keys of the outer field. The \\"Change Key\\" button will map the \\"Tab\\" handler to the \\"down\\" arrow. The \\"Change Handler\\" button will map a \\"downHandler\\" to the \\"Tab\\" mapping."\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(Button/* default */.A, {\n      type: "button",\n      onClick: changeKey,\n      children: "Change Tab key mapping to Down key"\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(Button/* default */.A, {\n      type: "button",\n      onClick: changeHandler,\n      children: "Change Tab (or Down?) key handler to a Down key handler"\n    })]\n  });\n};\nBasicUsage.displayName = "BasicUsage";\n/* eslint-enable max-len */\n/* harmony default export */ const stories_BasicUsage = (BasicUsage);\n;\nBasicUsage.__docgenInfo = {\n  "description": "",\n  "methods": [],\n  "displayName": "BasicUsage"\n};\n// EXTERNAL MODULE: ./node_modules/prop-types/index.js\nvar prop_types = __webpack_require__("./node_modules/prop-types/index.js");\nvar prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types);\n;// CONCATENATED MODULE: ./lib/Commander/CommandList.js\n\n\n\n\nclass CommandList extends react.Component {\n  constructor(props) {\n    super(props);\n    this.shortcutRef = /*#__PURE__*/(0,react.createRef)(null);\n  }\n  generateHotKeysProps() {\n    const {\n      commands\n    } = this.props;\n    const keyMap = {};\n    const handlers = {};\n    commands.forEach(c => {\n      keyMap[c.name] = c.shortcut || \'\';\n      if (c.handler) {\n        handlers[c.name] = c.handler;\n      }\n    });\n    return {\n      keyMap,\n      handlers\n    };\n  }\n  render() {\n    const {\n      children,\n      id\n    } = this.props;\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(index_es.HotKeys, {\n      id: id,\n      ...this.generateHotKeysProps(),\n      attach: this.shortcutRef.current,\n      noWrapper: true,\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n        ref: this.shortcutRef,\n        children: children\n      })\n    });\n  }\n}\nCommandList.propTypes = {\n  children: (prop_types_default()).node,\n  commands: prop_types_default().arrayOf(prop_types_default().shape({\n    handler: (prop_types_default()).func,\n    label: prop_types_default().oneOfType([(prop_types_default()).string, (prop_types_default()).func, (prop_types_default()).node]),\n    name: (prop_types_default()).string.isRequired,\n    shortcut: (prop_types_default()).string\n  })).isRequired,\n  id: (prop_types_default()).string\n};\nCommandList.displayName = "CommandList";\n/* harmony default export */ const Commander_CommandList = (CommandList);\n;\nCommandList.__docgenInfo = {\n  "description": "",\n  "methods": [{\n    "name": "generateHotKeysProps",\n    "docblock": null,\n    "modifiers": [],\n    "params": [],\n    "returns": null\n  }],\n  "displayName": "CommandList",\n  "props": {\n    "children": {\n      "description": "",\n      "type": {\n        "name": "node"\n      },\n      "required": false\n    },\n    "commands": {\n      "description": "",\n      "type": {\n        "name": "arrayOf",\n        "value": {\n          "name": "shape",\n          "value": {\n            "handler": {\n              "name": "func",\n              "required": false\n            },\n            "label": {\n              "name": "union",\n              "value": [{\n                "name": "string"\n              }, {\n                "name": "func"\n              }, {\n                "name": "node"\n              }],\n              "required": false\n            },\n            "name": {\n              "name": "string",\n              "required": true\n            },\n            "shortcut": {\n              "name": "string",\n              "required": false\n            }\n          }\n        }\n      },\n      "required": true\n    },\n    "id": {\n      "description": "",\n      "type": {\n        "name": "string"\n      },\n      "required": false\n    }\n  }\n};\n// EXTERNAL MODULE: ./node_modules/react-intl/lib/src/components/message.js\nvar message = __webpack_require__("./node_modules/react-intl/lib/src/components/message.js");\n// EXTERNAL MODULE: ./node_modules/lodash/mapValues.js\nvar lodash_mapValues = __webpack_require__("./node_modules/lodash/mapValues.js");\n;// CONCATENATED MODULE: ./lib/Commander/keyboardShortcuts.js\n\n\n\n\nconst expandAllSections = (e, accordionStatusRef) => {\n  e.preventDefault();\n  const {\n    setStatus\n  } = accordionStatusRef.current;\n  setStatus(cur => ({\n    ...cur,\n    status: mapValues(cur.status, () => true)\n  }));\n};\nconst collapseAllSections = (e, accordionStatusRef) => {\n  e.preventDefault();\n  const {\n    setStatus\n  } = accordionStatusRef.current;\n  setStatus(cur => ({\n    ...cur,\n    status: mapValues(cur.status, () => false)\n  }));\n};\nconst checkScope = () => {\n  return document.body.contains(document.activeElement);\n};\nconst defaultKeyboardShortcuts = [{\n  label: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.A, {\n    id: "stripes-components.shortcut.createRecord"\n  }),\n  name: \'new\',\n  shortcut: \'alt + n\'\n}, {\n  label: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.A, {\n    id: "stripes-components.shortcut.editRecord"\n  }),\n  name: \'edit\',\n  shortcut: \'mod + alt + e\'\n}, {\n  label: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.A, {\n    id: "stripes-components.shortcut.saveRecord"\n  }),\n  name: \'save\',\n  shortcut: \'mod + s\'\n}, {\n  label: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.A, {\n    id: "stripes-components.shortcut.duplicateRecord"\n  }),\n  name: \'duplicateRecord\',\n  shortcut: \'alt + c\'\n}, {\n  label: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.A, {\n    id: "stripes-components.shortcut.expandAll"\n  }),\n  name: \'expandAllSections\',\n  shortcut: \'mod + alt + b\'\n}, {\n  label: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.A, {\n    id: "stripes-components.shortcut.collapseAll"\n  }),\n  name: \'collapseAllSections\',\n  shortcut: \'mod + alt + g\'\n}, {\n  label: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.A, {\n    id: "stripes-components.shortcut.expandOrCollapse"\n  }),\n  name: \'expandOrCollapseAccordion\',\n  shortcut: \'spacebar\'\n}, {\n  label: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.A, {\n    id: "stripes-components.shortcut.goToSearchFilter"\n  }),\n  name: \'search\',\n  shortcut: \'mod + alt + h\'\n}, {\n  label: /*#__PURE__*/(0,jsx_runtime.jsx)(message/* default */.A, {\n    id: "stripes-components.shortcut.openShortcutModal"\n  }),\n  name: \'openShortcutModal\',\n  shortcut: \'mod + alt + k\'\n}];\n\n// list of default keyboard shortcut names [\'new\', \'edit\', \'save\']\nconst keyboardShortcutNames = defaultKeyboardShortcuts.map(_ref => {\n  let {\n    name\n  } = _ref;\n  return name;\n});\n\n/* function to import specific shortcuts relevant to the app. Takes in an array with\n   shortcut names [\'new\', \'save\', \'duplicateRecord\'] and returns an array of requested\n   shortcuts entries from the defaultKeyboardShortcuts array prserving the order of entries */\nconst importShortcuts = function () {\n  let shortcutNamesArray = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  const filteredShortcutsArray = []; // array that contains specific requested shortcuts from the app\n\n  for (const shortcut of defaultKeyboardShortcuts) {\n    if (shortcutNamesArray.find(shortcutName => shortcutName?.toLowerCase() === shortcut?.name?.toLowerCase())) {\n      filteredShortcutsArray.push(shortcut);\n    }\n  }\n  return filteredShortcutsArray;\n};\n\n/* function that overrides the labels of the default shortcuts to be displayed\n   Eg: The \'new\' default shortcut renders its label as `New`. If the app wants it displayed as `New resource` instead,\n   you could call the renameShortcutLabels function as\n   `renameShortcutLabels(shortcutsArray, [{ \'shortcut\': \'new\', \'label\': \'<FormatedMessage id="ui-app.newResource\'}]\n   Note: shortcutsArray contains the list of shortcuts with labels you want to be modified. eg: defaultKeyboardShortcuts\n*/\nconst renameShortcutLabels = function () {\n  let shortcutsArray = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let newLabelsArray = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  if (newLabelsArray.length === 0) return shortcutsArray;\n  return shortcutsArray.map(shortcutObj => {\n    const {\n      name\n    } = shortcutObj;\n    const entryWithShortcut = newLabelsArray.find(_ref2 => {\n      let {\n        shortcut\n      } = _ref2;\n      return shortcut?.toLowerCase() === name?.toLowerCase();\n    });\n    return entryWithShortcut ? {\n      ...shortcutObj,\n      label: entryWithShortcut.label\n    } : shortcutObj;\n  });\n};\n\n// EXTERNAL MODULE: ./node_modules/lodash/isEqual.js\nvar isEqual = __webpack_require__("./node_modules/lodash/isEqual.js");\nvar isEqual_default = /*#__PURE__*/__webpack_require__.n(isEqual);\n;// CONCATENATED MODULE: ./lib/Commander/HasCommand.js\n/*\n* HasCommand applies a keyboard shortcut to a wrapped section of the UI\n* Given a \'name\' prop, it assigns a handler function to the associated\n* Shortcut from a parent \'CommandList\'\n*/\n\n\n\n\n\n\nclass HasCommand extends react.Component {\n  constructor(props) {\n    super(props);\n    this.getHandlers = this.getHandlers.bind(this);\n    this.getKeyMap = this.getKeyMap.bind(this);\n    this.handlers = this.getHandlers();\n    this.keyMap = this.getKeyMap();\n  }\n  componentDidUpdate(prevProps) {\n    const {\n      commands\n    } = this.props;\n    if (!isEqual_default()(commands, prevProps.commands)) {\n      this.handlers = this.getHandlers();\n      this.keyMap = this.getKeyMap();\n      this.forceUpdate();\n    }\n  }\n  getHandlers() {\n    const {\n      commands\n    } = this.props;\n    const handlers = {};\n    commands.forEach(c => {\n      if (c.handler) {\n        handlers[c.name] = c.handler;\n      }\n    });\n    return handlers;\n  }\n  getKeyMap() {\n    const {\n      commands\n    } = this.props;\n    const keyMap = {};\n    commands.forEach(c => {\n      if (c.shortcut) {\n        keyMap[c.name] = c.shortcut;\n      }\n    });\n    if (Object.keys(keyMap).length === 0) {\n      return null;\n    }\n    return keyMap;\n  }\n  render() {\n    const {\n      children,\n      id,\n      isWithinScope,\n      scope\n    } = this.props;\n    return /*#__PURE__*/(0,jsx_runtime.jsx)(index_es.HotKeys, {\n      id: id,\n      keyMap: this.keyMap,\n      handlers: this.handlers,\n      focused: isWithinScope,\n      attach: scope,\n      noWrapper: true,\n      children: children\n    });\n  }\n}\nHasCommand.propTypes = {\n  children: prop_types_default().oneOfType([(prop_types_default()).node, prop_types_default().arrayOf((prop_types_default()).node)]).isRequired,\n  commands: prop_types_default().arrayOf((prop_types_default()).object),\n  id: (prop_types_default()).string,\n  isWithinScope: (prop_types_default()).func,\n  scope: prop_types_default().oneOfType([(prop_types_default()).node, prop_types_default().instanceOf(Element), (prop_types_default()).object])\n};\nHasCommand.displayName = "HasCommand";\n/* harmony default export */ const Commander_HasCommand = (HasCommand);\n;\nHasCommand.__docgenInfo = {\n  "description": "",\n  "methods": [{\n    "name": "getHandlers",\n    "docblock": null,\n    "modifiers": [],\n    "params": [],\n    "returns": null\n  }, {\n    "name": "getKeyMap",\n    "docblock": null,\n    "modifiers": [],\n    "params": [],\n    "returns": null\n  }],\n  "displayName": "HasCommand",\n  "props": {\n    "children": {\n      "description": "",\n      "type": {\n        "name": "union",\n        "value": [{\n          "name": "node"\n        }, {\n          "name": "arrayOf",\n          "value": {\n            "name": "node"\n          }\n        }]\n      },\n      "required": true\n    },\n    "commands": {\n      "description": "",\n      "type": {\n        "name": "arrayOf",\n        "value": {\n          "name": "object"\n        }\n      },\n      "required": false\n    },\n    "id": {\n      "description": "",\n      "type": {\n        "name": "string"\n      },\n      "required": false\n    },\n    "isWithinScope": {\n      "description": "",\n      "type": {\n        "name": "func"\n      },\n      "required": false\n    },\n    "scope": {\n      "description": "",\n      "type": {\n        "name": "union",\n        "value": [{\n          "name": "node"\n        }, {\n          "name": "instanceOf",\n          "value": "Element"\n        }, {\n          "name": "object"\n        }]\n      },\n      "required": false\n    }\n  }\n};\n;// CONCATENATED MODULE: ./lib/HotKeys/stories/CommandList.js\n\n\n\n\n\n/* harmony default export */ const stories_CommandList = (() => {\n  const [saveEnabled, updateSaveEnabled] = (0,react.useState)(false);\n  const saveHandler = e => {\n    e?.preventDefault(); // eslint-disable-line\n    if (saveEnabled) {\n      alert(\'data saved!\'); // eslint-disable-line\n      updateSaveEnabled(false);\n    }\n  };\n  const formChange = () => {\n    updateSaveEnabled(true);\n  };\n  const handlers = [{\n    name: \'save\',\n    handler: saveHandler\n  }];\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(Commander_CommandList, {\n    commands: defaultKeyboardShortcuts,\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(Commander_HasCommand, {\n      commands: handlers,\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)("fieldset", {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)("legend", {\n          children: "Form Hotkeys"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n          children: "Ctrl + s is the save key when the form elements are focused..."\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(TextField/* default */.A, {\n          onChange: formChange,\n          label: "Command field"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(Button/* default */.A, {\n          disabled: !saveEnabled,\n          onClick: saveHandler,\n          children: "Save"\n        })]\n      })\n    })\n  });\n});\n;// CONCATENATED MODULE: ./lib/HotKeys/stories/HotKeys.stories.js\n\n\n\n\n/* harmony default export */ const HotKeys_stories = ({\n  title: \'HotKeys\'\n});\nconst _BasicUsage = () => /*#__PURE__*/(0,jsx_runtime.jsx)(stories_BasicUsage, {});\n_BasicUsage.displayName = "_BasicUsage";\nconst HotKeys_stories_CommandList = () => /*#__PURE__*/(0,jsx_runtime.jsx)(stories_CommandList, {});\nHotKeys_stories_CommandList.displayName = "CommandList";\nHotKeys_stories_CommandList.storyName = \'CommandList\';\n_BasicUsage.parameters = {\n  ..._BasicUsage.parameters,\n  docs: {\n    ..._BasicUsage.parameters?.docs,\n    source: {\n      originalSource: "() => <BasicUsage />",\n      ..._BasicUsage.parameters?.docs?.source\n    }\n  }\n};\nHotKeys_stories_CommandList.parameters = {\n  ...HotKeys_stories_CommandList.parameters,\n  docs: {\n    ...HotKeys_stories_CommandList.parameters?.docs,\n    source: {\n      originalSource: "() => <CommandListUsage />",\n      ...HotKeys_stories_CommandList.parameters?.docs?.source\n    }\n  }\n};;const __namedExportsOrder = ["_BasicUsage","CommandList"];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvSG90S2V5cy9zdG9yaWVzL0hvdEtleXMuc3Rvcmllcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ3ZJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FDckhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FDbklBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZm9saW8vc3RyaXBlcy1jb21wb25lbnRzLy4vbGliL0hvdEtleXMvc3Rvcmllcy9CYXNpY1VzYWdlLmpzPzE5Y2UiLCJ3ZWJwYWNrOi8vQGZvbGlvL3N0cmlwZXMtY29tcG9uZW50cy8uL2xpYi9Db21tYW5kZXIvQ29tbWFuZExpc3QuanM/YmYwNyIsIndlYnBhY2s6Ly9AZm9saW8vc3RyaXBlcy1jb21wb25lbnRzLy4vbGliL0NvbW1hbmRlci9rZXlib2FyZFNob3J0Y3V0cy5qcz8zYWFlIiwid2VicGFjazovL0Bmb2xpby9zdHJpcGVzLWNvbXBvbmVudHMvLi9saWIvQ29tbWFuZGVyL0hhc0NvbW1hbmQuanM/YjlhZiIsIndlYnBhY2s6Ly9AZm9saW8vc3RyaXBlcy1jb21wb25lbnRzLy4vbGliL0hvdEtleXMvc3Rvcmllcy9Db21tYW5kTGlzdC5qcz80MTM5Iiwid2VicGFjazovL0Bmb2xpby9zdHJpcGVzLWNvbXBvbmVudHMvLi9saWIvSG90S2V5cy9zdG9yaWVzL0hvdEtleXMuc3Rvcmllcy5qcz8zNDQ0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogSG90S2V5cyAtPiBCYXNpYyB1c2FnZVxuICovXG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGFjdGlvbiB9IGZyb20gJ0BzdG9yeWJvb2svYWRkb24tYWN0aW9ucyc7XG5pbXBvcnQgVGV4dEZpZWxkIGZyb20gJy4uLy4uL1RleHRGaWVsZCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJy4uLy4uL0J1dHRvbic7XG5pbXBvcnQgTXVsdGlDb2x1bW5MaXN0IGZyb20gJy4uLy4uL011bHRpQ29sdW1uTGlzdCc7XG5pbXBvcnQgeyBIb3RLZXlzIH0gZnJvbSAnLi4nO1xuaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmNvbnN0IG91dGVyT3V0ZXJFbnRlciA9IGFjdGlvbignb3V0ZXJfb3V0ZXJfZW50ZXInKTtcbmNvbnN0IG91dGVySW5uZXJFbnRlciA9IGFjdGlvbignb3V0ZXJfaW5uZXJfZW50ZXInKTtcbmNvbnN0IGlubmVyT3V0ZXJFbnRlciA9IGFjdGlvbignaW5uZXJfb3V0ZXJfZW50ZXInKTtcbmNvbnN0IGlubmVySW5uZXJFbnRlciA9IGFjdGlvbignaW5uZXJfaW5uZXJfZW50ZXInKTtcbmNvbnN0IHRhYk91dGVySGFuZGxlciA9IGFjdGlvbigndGFiT3V0ZXInKTtcbmNvbnN0IHRhYklubmVySGFuZGxlciA9IGFjdGlvbigndGFiSW5uZXInKTtcbmNvbnN0IGFsdE91dGVySGFuZGxlciA9IGFjdGlvbignYWx0T3V0ZXInKTtcbmNvbnN0IGFsdElubmVySGFuZGxlciA9IGFjdGlvbignYWx0SW5uZXInKTtcbmNvbnN0IG91dGVyRG93bkhhbmRsZXIgPSBhY3Rpb24oJ2Rvd25IYW5kbGVyJyk7XG5jb25zdCBvdXRlcktleU1hcCA9IHtcbiAgJ0VOVEVSX09VVEVSJzogJ2VudGVyJyxcbiAgJ1RBQic6ICd0YWInXG59O1xuY29uc3QgaW5uZXJLZXlNYXAgPSB7XG4gICdFTlRFUl9JTk5FUic6ICdlbnRlcicsXG4gICdBTFQnOiAnYWx0J1xufTtcbmNvbnN0IG91dGVySGFuZGxlcnMgPSB7XG4gICdFTlRFUl9PVVRFUic6IG91dGVyT3V0ZXJFbnRlcixcbiAgJ1RBQic6IHRhYk91dGVySGFuZGxlcixcbiAgJ0VOVEVSX0lOTkVSJzogb3V0ZXJJbm5lckVudGVyLFxuICAnQUxUJzogYWx0T3V0ZXJIYW5kbGVyXG59O1xuY29uc3QgaW5uZXJIYW5kbGVycyA9IHtcbiAgJ0VOVEVSX09VVEVSJzogaW5uZXJPdXRlckVudGVyLFxuICAnVEFCJzogdGFiSW5uZXJIYW5kbGVyLFxuICAnRU5URVJfSU5ORVInOiBpbm5lcklubmVyRW50ZXIsXG4gICdBTFQnOiBhbHRJbm5lckhhbmRsZXJcbn07XG5jb25zdCBhbHRlcm5hdGl2ZU91dGVyS2V5ID0ge1xuICAnVEFCJzogJ2Rvd24nXG59O1xuY29uc3QgYWx0ZXJuYXRpdmVPdXRlckhhbmRsZXIgPSB7XG4gICdUQUInOiBvdXRlckRvd25IYW5kbGVyXG59O1xuY29uc3QgaG90a2V5RGF0YSA9IFt7XG4gIEhvdEtleTogJ2FsdCcsXG4gIG91dGVyRmllbGQ6ICdub3QgbWFwcGVkJyxcbiAgaW5uZXJGaWVsZDogJ2FsdElubmVyJ1xufSwge1xuICBIb3RLZXk6ICdlbnRlcicsXG4gIG91dGVyRmllbGQ6ICdvdXRlcl9vdXRlcl9lbnRlcicsXG4gIGlubmVyRmllbGQ6ICdpbm5lcl9pbm5lcl9lbnRlcidcbn0sIHtcbiAgSG90S2V5OiAndGFiJyxcbiAgb3V0ZXJGaWVsZDogJ3RhYk91dGVyJyxcbiAgaW5uZXJGaWVsZDogJ3RhYklubmVyJ1xufV07XG5jb25zdCBCYXNpY1VzYWdlID0gKCkgPT4ge1xuICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHVzZVN0YXRlKCdmaWxsJyk7XG4gIGNvbnN0IFtvdXRlckgsIHNldE91dGVySF0gPSB1c2VTdGF0ZShvdXRlckhhbmRsZXJzKTtcbiAgY29uc3QgW291dGVySywgc2V0T3V0ZXJLXSA9IHVzZVN0YXRlKG91dGVyS2V5TWFwKTtcbiAgY29uc3QgY2hhbmdlS2V5ID0gKCkgPT4ge1xuICAgIHNldE91dGVySyhjdXJyZW50ID0+IHtcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBjdXJyZW50LCBhbHRlcm5hdGl2ZU91dGVyS2V5KTtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgY2hhbmdlSGFuZGxlciA9ICgpID0+IHtcbiAgICBzZXRPdXRlckgoY3VycmVudCA9PiB7XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgY3VycmVudCwgYWx0ZXJuYXRpdmVPdXRlckhhbmRsZXIpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4cyhcImRpdlwiLCB7XG4gICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChcImgyXCIsIHtcbiAgICAgIGNoaWxkcmVuOiBcIkhvdEtleXNcIlxuICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcInBcIiwge1xuICAgICAgY2hpbGRyZW46IFwiVGhpcyB0YWJsZSBkZXNjcmliZXMgdGhlIG1hcHBpbmcgb2YgdGhlIGtleWJvYXJkIGtleXMgZm9yIHRoZSBiZWxvdyBleGFtcGxlLiBJbiBjb2RlLCB0aGUgdGFiIGtleSBpcyBtYXBwZWQgYXQgdGhlIG91dHNpZGUgbGV2ZWwsIGFuZCB0aGUgaW5uZXIgZmllbGQgYXBwbGllcyBpdHMgb3duIGhhbmRsZXIuIFxcXCJBTFRcXFwiIGlzIG9ubHkgbWFwcGVkIHRvIHRoZSBpbm5lciBmaWVsZC4gWW91IGNhbiBzZWUgb3V0cHV0IGZyb20gcHJlc3NpbmcgaG90IGtleXMgaW4gdGhlIFxcXCJBY3Rpb24gTG9nZ2VyXFxcIiBwYW5lbCBiZWxvdy5cIlxuICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChNdWx0aUNvbHVtbkxpc3QsIHtcbiAgICAgIGNvbnRlbnREYXRhOiBob3RrZXlEYXRhXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwicFwiLCB7XG4gICAgICBjaGlsZHJlbjogXCJUaGUgc2NvcGUgb2YgYSBob3RLZXkncyBhZmZlY3QgaW4gdGhlIFVJIGlzIGRpY3RhdGVkIGJ5IGZvY3VzLiBXaGVuIHlvdXIgZm9jdXMgaW5kaWNhdG9yIChibHVlIG91dGxpbmUgaW4gbW9zdCBicm93c2VycykgaXMgd2l0aGluIHRoZSBibHVlIChvdXRlcikgb3Igb3JhbmdlIChpbm5lcikgYm9yZGVycywgdGhlIHNjb3BlIGlzIHRvIHRoZSBjb3JyZXNwb25kaW5nIEhvdEtleXMgaW5zdGFuY2UuXCJcbiAgICB9KSwgLyojX19QVVJFX18qL19qc3goSG90S2V5cywge1xuICAgICAga2V5TWFwOiBvdXRlckssXG4gICAgICBoYW5kbGVyczogb3V0ZXJILFxuICAgICAgaWQ6IFwib3V0ZXJcIixcbiAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeHMoXCJkaXZcIiwge1xuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIGJvcmRlcjogJzFweCBkYXNoZWQgYmx1ZScsXG4gICAgICAgICAgcGFkZGluZzogJzEwcHgnXG4gICAgICAgIH0sXG4gICAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goVGV4dEZpZWxkLCB7XG4gICAgICAgICAgbGFiZWw6IFwiT3V0ZXIgZmllbGRcIixcbiAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgb25DaGFuZ2U6IGUgPT4ge1xuICAgICAgICAgICAgc2V0VmFsdWUoZS50YXJnZXQudmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KEhvdEtleXMsIHtcbiAgICAgICAgICBrZXlNYXA6IGlubmVyS2V5TWFwLFxuICAgICAgICAgIGhhbmRsZXJzOiBpbm5lckhhbmRsZXJzLFxuICAgICAgICAgIGlkOiBcImlubmVyXCIsXG4gICAgICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KFwiZGl2XCIsIHtcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgIGJvcmRlcjogJzFweCBkYXNoZWQgb3JhbmdlJyxcbiAgICAgICAgICAgICAgcGFkZGluZzogJzEwcHgnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KFRleHRGaWVsZCwge1xuICAgICAgICAgICAgICBsYWJlbDogXCJJbm5lciBmaWVsZFwiXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXVxuICAgICAgfSlcbiAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJwXCIsIHtcbiAgICAgIGNoaWxkcmVuOiBcIlRoZSBidXR0b25zIGJlbG93IHdpbGwgbW9kaWZ5IHRoZSBtYXBwZWQga2V5cyBvZiB0aGUgb3V0ZXIgZmllbGQuIFRoZSBcXFwiQ2hhbmdlIEtleVxcXCIgYnV0dG9uIHdpbGwgbWFwIHRoZSBcXFwiVGFiXFxcIiBoYW5kbGVyIHRvIHRoZSBcXFwiZG93blxcXCIgYXJyb3cuIFRoZSBcXFwiQ2hhbmdlIEhhbmRsZXJcXFwiIGJ1dHRvbiB3aWxsIG1hcCBhIFxcXCJkb3duSGFuZGxlclxcXCIgdG8gdGhlIFxcXCJUYWJcXFwiIG1hcHBpbmcuXCJcbiAgICB9KSwgLyojX19QVVJFX18qL19qc3goQnV0dG9uLCB7XG4gICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgb25DbGljazogY2hhbmdlS2V5LFxuICAgICAgY2hpbGRyZW46IFwiQ2hhbmdlIFRhYiBrZXkgbWFwcGluZyB0byBEb3duIGtleVwiXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4KEJ1dHRvbiwge1xuICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgIG9uQ2xpY2s6IGNoYW5nZUhhbmRsZXIsXG4gICAgICBjaGlsZHJlbjogXCJDaGFuZ2UgVGFiIChvciBEb3duPykga2V5IGhhbmRsZXIgdG8gYSBEb3duIGtleSBoYW5kbGVyXCJcbiAgICB9KV1cbiAgfSk7XG59O1xuQmFzaWNVc2FnZS5kaXNwbGF5TmFtZSA9IFwiQmFzaWNVc2FnZVwiO1xuLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuICovXG5leHBvcnQgZGVmYXVsdCBCYXNpY1VzYWdlO1xuO1xuQmFzaWNVc2FnZS5fX2RvY2dlbkluZm8gPSB7XG4gIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgXCJtZXRob2RzXCI6IFtdLFxuICBcImRpc3BsYXlOYW1lXCI6IFwiQmFzaWNVc2FnZVwiXG59OyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQsIGNyZWF0ZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBIb3RLZXlzIH0gZnJvbSAnLi4vSG90S2V5cyc7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuY2xhc3MgQ29tbWFuZExpc3QgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnNob3J0Y3V0UmVmID0gLyojX19QVVJFX18qL2NyZWF0ZVJlZihudWxsKTtcbiAgfVxuICBnZW5lcmF0ZUhvdEtleXNQcm9wcygpIHtcbiAgICBjb25zdCB7XG4gICAgICBjb21tYW5kc1xuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGtleU1hcCA9IHt9O1xuICAgIGNvbnN0IGhhbmRsZXJzID0ge307XG4gICAgY29tbWFuZHMuZm9yRWFjaChjID0+IHtcbiAgICAgIGtleU1hcFtjLm5hbWVdID0gYy5zaG9ydGN1dCB8fCAnJztcbiAgICAgIGlmIChjLmhhbmRsZXIpIHtcbiAgICAgICAgaGFuZGxlcnNbYy5uYW1lXSA9IGMuaGFuZGxlcjtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAga2V5TWFwLFxuICAgICAgaGFuZGxlcnNcbiAgICB9O1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBjaGlsZHJlbixcbiAgICAgIGlkXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KEhvdEtleXMsIHtcbiAgICAgIGlkOiBpZCxcbiAgICAgIC4uLnRoaXMuZ2VuZXJhdGVIb3RLZXlzUHJvcHMoKSxcbiAgICAgIGF0dGFjaDogdGhpcy5zaG9ydGN1dFJlZi5jdXJyZW50LFxuICAgICAgbm9XcmFwcGVyOiB0cnVlLFxuICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KFwiZGl2XCIsIHtcbiAgICAgICAgcmVmOiB0aGlzLnNob3J0Y3V0UmVmLFxuICAgICAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgICAgIH0pXG4gICAgfSk7XG4gIH1cbn1cbkNvbW1hbmRMaXN0LnByb3BUeXBlcyA9IHtcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuICBjb21tYW5kczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBoYW5kbGVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBsYWJlbDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmZ1bmMsIFByb3BUeXBlcy5ub2RlXSksXG4gICAgbmFtZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIHNob3J0Y3V0OiBQcm9wVHlwZXMuc3RyaW5nXG4gIH0pKS5pc1JlcXVpcmVkLFxuICBpZDogUHJvcFR5cGVzLnN0cmluZ1xufTtcbkNvbW1hbmRMaXN0LmRpc3BsYXlOYW1lID0gXCJDb21tYW5kTGlzdFwiO1xuZXhwb3J0IGRlZmF1bHQgQ29tbWFuZExpc3Q7XG47XG5Db21tYW5kTGlzdC5fX2RvY2dlbkluZm8gPSB7XG4gIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgXCJtZXRob2RzXCI6IFt7XG4gICAgXCJuYW1lXCI6IFwiZ2VuZXJhdGVIb3RLZXlzUHJvcHNcIixcbiAgICBcImRvY2Jsb2NrXCI6IG51bGwsXG4gICAgXCJtb2RpZmllcnNcIjogW10sXG4gICAgXCJwYXJhbXNcIjogW10sXG4gICAgXCJyZXR1cm5zXCI6IG51bGxcbiAgfV0sXG4gIFwiZGlzcGxheU5hbWVcIjogXCJDb21tYW5kTGlzdFwiLFxuICBcInByb3BzXCI6IHtcbiAgICBcImNoaWxkcmVuXCI6IHtcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgICAgIFwidHlwZVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIm5vZGVcIlxuICAgICAgfSxcbiAgICAgIFwicmVxdWlyZWRcIjogZmFsc2VcbiAgICB9LFxuICAgIFwiY29tbWFuZHNcIjoge1xuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgICAgXCJ0eXBlXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwiYXJyYXlPZlwiLFxuICAgICAgICBcInZhbHVlXCI6IHtcbiAgICAgICAgICBcIm5hbWVcIjogXCJzaGFwZVwiLFxuICAgICAgICAgIFwidmFsdWVcIjoge1xuICAgICAgICAgICAgXCJoYW5kbGVyXCI6IHtcbiAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZnVuY1wiLFxuICAgICAgICAgICAgICBcInJlcXVpcmVkXCI6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJsYWJlbFwiOiB7XG4gICAgICAgICAgICAgIFwibmFtZVwiOiBcInVuaW9uXCIsXG4gICAgICAgICAgICAgIFwidmFsdWVcIjogW3tcbiAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJzdHJpbmdcIlxuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZnVuY1wiXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJub2RlXCJcbiAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgIFwicmVxdWlyZWRcIjogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIm5hbWVcIjoge1xuICAgICAgICAgICAgICBcIm5hbWVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgXCJyZXF1aXJlZFwiOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJzaG9ydGN1dFwiOiB7XG4gICAgICAgICAgICAgIFwibmFtZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICBcInJlcXVpcmVkXCI6IGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJyZXF1aXJlZFwiOiB0cnVlXG4gICAgfSxcbiAgICBcImlkXCI6IHtcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgICAgIFwidHlwZVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcInN0cmluZ1wiXG4gICAgICB9LFxuICAgICAgXCJyZXF1aXJlZFwiOiBmYWxzZVxuICAgIH1cbiAgfVxufTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRm9ybWF0dGVkTWVzc2FnZSB9IGZyb20gJ3JlYWN0LWludGwnO1xuaW1wb3J0IG1hcFZhbHVlcyBmcm9tICdsb2Rhc2gvbWFwVmFsdWVzJztcbmltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5jb25zdCBleHBhbmRBbGxTZWN0aW9ucyA9IChlLCBhY2NvcmRpb25TdGF0dXNSZWYpID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBjb25zdCB7XG4gICAgc2V0U3RhdHVzXG4gIH0gPSBhY2NvcmRpb25TdGF0dXNSZWYuY3VycmVudDtcbiAgc2V0U3RhdHVzKGN1ciA9PiAoe1xuICAgIC4uLmN1cixcbiAgICBzdGF0dXM6IG1hcFZhbHVlcyhjdXIuc3RhdHVzLCAoKSA9PiB0cnVlKVxuICB9KSk7XG59O1xuY29uc3QgY29sbGFwc2VBbGxTZWN0aW9ucyA9IChlLCBhY2NvcmRpb25TdGF0dXNSZWYpID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBjb25zdCB7XG4gICAgc2V0U3RhdHVzXG4gIH0gPSBhY2NvcmRpb25TdGF0dXNSZWYuY3VycmVudDtcbiAgc2V0U3RhdHVzKGN1ciA9PiAoe1xuICAgIC4uLmN1cixcbiAgICBzdGF0dXM6IG1hcFZhbHVlcyhjdXIuc3RhdHVzLCAoKSA9PiBmYWxzZSlcbiAgfSkpO1xufTtcbmNvbnN0IGNoZWNrU2NvcGUgPSAoKSA9PiB7XG4gIHJldHVybiBkb2N1bWVudC5ib2R5LmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xufTtcbmNvbnN0IGRlZmF1bHRLZXlib2FyZFNob3J0Y3V0cyA9IFt7XG4gIGxhYmVsOiAvKiNfX1BVUkVfXyovX2pzeChGb3JtYXR0ZWRNZXNzYWdlLCB7XG4gICAgaWQ6IFwic3RyaXBlcy1jb21wb25lbnRzLnNob3J0Y3V0LmNyZWF0ZVJlY29yZFwiXG4gIH0pLFxuICBuYW1lOiAnbmV3JyxcbiAgc2hvcnRjdXQ6ICdhbHQgKyBuJ1xufSwge1xuICBsYWJlbDogLyojX19QVVJFX18qL19qc3goRm9ybWF0dGVkTWVzc2FnZSwge1xuICAgIGlkOiBcInN0cmlwZXMtY29tcG9uZW50cy5zaG9ydGN1dC5lZGl0UmVjb3JkXCJcbiAgfSksXG4gIG5hbWU6ICdlZGl0JyxcbiAgc2hvcnRjdXQ6ICdtb2QgKyBhbHQgKyBlJ1xufSwge1xuICBsYWJlbDogLyojX19QVVJFX18qL19qc3goRm9ybWF0dGVkTWVzc2FnZSwge1xuICAgIGlkOiBcInN0cmlwZXMtY29tcG9uZW50cy5zaG9ydGN1dC5zYXZlUmVjb3JkXCJcbiAgfSksXG4gIG5hbWU6ICdzYXZlJyxcbiAgc2hvcnRjdXQ6ICdtb2QgKyBzJ1xufSwge1xuICBsYWJlbDogLyojX19QVVJFX18qL19qc3goRm9ybWF0dGVkTWVzc2FnZSwge1xuICAgIGlkOiBcInN0cmlwZXMtY29tcG9uZW50cy5zaG9ydGN1dC5kdXBsaWNhdGVSZWNvcmRcIlxuICB9KSxcbiAgbmFtZTogJ2R1cGxpY2F0ZVJlY29yZCcsXG4gIHNob3J0Y3V0OiAnYWx0ICsgYydcbn0sIHtcbiAgbGFiZWw6IC8qI19fUFVSRV9fKi9fanN4KEZvcm1hdHRlZE1lc3NhZ2UsIHtcbiAgICBpZDogXCJzdHJpcGVzLWNvbXBvbmVudHMuc2hvcnRjdXQuZXhwYW5kQWxsXCJcbiAgfSksXG4gIG5hbWU6ICdleHBhbmRBbGxTZWN0aW9ucycsXG4gIHNob3J0Y3V0OiAnbW9kICsgYWx0ICsgYidcbn0sIHtcbiAgbGFiZWw6IC8qI19fUFVSRV9fKi9fanN4KEZvcm1hdHRlZE1lc3NhZ2UsIHtcbiAgICBpZDogXCJzdHJpcGVzLWNvbXBvbmVudHMuc2hvcnRjdXQuY29sbGFwc2VBbGxcIlxuICB9KSxcbiAgbmFtZTogJ2NvbGxhcHNlQWxsU2VjdGlvbnMnLFxuICBzaG9ydGN1dDogJ21vZCArIGFsdCArIGcnXG59LCB7XG4gIGxhYmVsOiAvKiNfX1BVUkVfXyovX2pzeChGb3JtYXR0ZWRNZXNzYWdlLCB7XG4gICAgaWQ6IFwic3RyaXBlcy1jb21wb25lbnRzLnNob3J0Y3V0LmV4cGFuZE9yQ29sbGFwc2VcIlxuICB9KSxcbiAgbmFtZTogJ2V4cGFuZE9yQ29sbGFwc2VBY2NvcmRpb24nLFxuICBzaG9ydGN1dDogJ3NwYWNlYmFyJ1xufSwge1xuICBsYWJlbDogLyojX19QVVJFX18qL19qc3goRm9ybWF0dGVkTWVzc2FnZSwge1xuICAgIGlkOiBcInN0cmlwZXMtY29tcG9uZW50cy5zaG9ydGN1dC5nb1RvU2VhcmNoRmlsdGVyXCJcbiAgfSksXG4gIG5hbWU6ICdzZWFyY2gnLFxuICBzaG9ydGN1dDogJ21vZCArIGFsdCArIGgnXG59LCB7XG4gIGxhYmVsOiAvKiNfX1BVUkVfXyovX2pzeChGb3JtYXR0ZWRNZXNzYWdlLCB7XG4gICAgaWQ6IFwic3RyaXBlcy1jb21wb25lbnRzLnNob3J0Y3V0Lm9wZW5TaG9ydGN1dE1vZGFsXCJcbiAgfSksXG4gIG5hbWU6ICdvcGVuU2hvcnRjdXRNb2RhbCcsXG4gIHNob3J0Y3V0OiAnbW9kICsgYWx0ICsgaydcbn1dO1xuXG4vLyBsaXN0IG9mIGRlZmF1bHQga2V5Ym9hcmQgc2hvcnRjdXQgbmFtZXMgWyduZXcnLCAnZWRpdCcsICdzYXZlJ11cbmNvbnN0IGtleWJvYXJkU2hvcnRjdXROYW1lcyA9IGRlZmF1bHRLZXlib2FyZFNob3J0Y3V0cy5tYXAoX3JlZiA9PiB7XG4gIGxldCB7XG4gICAgbmFtZVxuICB9ID0gX3JlZjtcbiAgcmV0dXJuIG5hbWU7XG59KTtcblxuLyogZnVuY3Rpb24gdG8gaW1wb3J0IHNwZWNpZmljIHNob3J0Y3V0cyByZWxldmFudCB0byB0aGUgYXBwLiBUYWtlcyBpbiBhbiBhcnJheSB3aXRoXG4gICBzaG9ydGN1dCBuYW1lcyBbJ25ldycsICdzYXZlJywgJ2R1cGxpY2F0ZVJlY29yZCddIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHJlcXVlc3RlZFxuICAgc2hvcnRjdXRzIGVudHJpZXMgZnJvbSB0aGUgZGVmYXVsdEtleWJvYXJkU2hvcnRjdXRzIGFycmF5IHByc2VydmluZyB0aGUgb3JkZXIgb2YgZW50cmllcyAqL1xuY29uc3QgaW1wb3J0U2hvcnRjdXRzID0gZnVuY3Rpb24gKCkge1xuICBsZXQgc2hvcnRjdXROYW1lc0FycmF5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTtcbiAgY29uc3QgZmlsdGVyZWRTaG9ydGN1dHNBcnJheSA9IFtdOyAvLyBhcnJheSB0aGF0IGNvbnRhaW5zIHNwZWNpZmljIHJlcXVlc3RlZCBzaG9ydGN1dHMgZnJvbSB0aGUgYXBwXG5cbiAgZm9yIChjb25zdCBzaG9ydGN1dCBvZiBkZWZhdWx0S2V5Ym9hcmRTaG9ydGN1dHMpIHtcbiAgICBpZiAoc2hvcnRjdXROYW1lc0FycmF5LmZpbmQoc2hvcnRjdXROYW1lID0+IHNob3J0Y3V0TmFtZT8udG9Mb3dlckNhc2UoKSA9PT0gc2hvcnRjdXQ/Lm5hbWU/LnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICBmaWx0ZXJlZFNob3J0Y3V0c0FycmF5LnB1c2goc2hvcnRjdXQpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmlsdGVyZWRTaG9ydGN1dHNBcnJheTtcbn07XG5cbi8qIGZ1bmN0aW9uIHRoYXQgb3ZlcnJpZGVzIHRoZSBsYWJlbHMgb2YgdGhlIGRlZmF1bHQgc2hvcnRjdXRzIHRvIGJlIGRpc3BsYXllZFxuICAgRWc6IFRoZSAnbmV3JyBkZWZhdWx0IHNob3J0Y3V0IHJlbmRlcnMgaXRzIGxhYmVsIGFzIGBOZXdgLiBJZiB0aGUgYXBwIHdhbnRzIGl0IGRpc3BsYXllZCBhcyBgTmV3IHJlc291cmNlYCBpbnN0ZWFkLFxuICAgeW91IGNvdWxkIGNhbGwgdGhlIHJlbmFtZVNob3J0Y3V0TGFiZWxzIGZ1bmN0aW9uIGFzXG4gICBgcmVuYW1lU2hvcnRjdXRMYWJlbHMoc2hvcnRjdXRzQXJyYXksIFt7ICdzaG9ydGN1dCc6ICduZXcnLCAnbGFiZWwnOiAnPEZvcm1hdGVkTWVzc2FnZSBpZD1cInVpLWFwcC5uZXdSZXNvdXJjZSd9XVxuICAgTm90ZTogc2hvcnRjdXRzQXJyYXkgY29udGFpbnMgdGhlIGxpc3Qgb2Ygc2hvcnRjdXRzIHdpdGggbGFiZWxzIHlvdSB3YW50IHRvIGJlIG1vZGlmaWVkLiBlZzogZGVmYXVsdEtleWJvYXJkU2hvcnRjdXRzXG4qL1xuY29uc3QgcmVuYW1lU2hvcnRjdXRMYWJlbHMgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBzaG9ydGN1dHNBcnJheSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107XG4gIGxldCBuZXdMYWJlbHNBcnJheSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogW107XG4gIGlmIChuZXdMYWJlbHNBcnJheS5sZW5ndGggPT09IDApIHJldHVybiBzaG9ydGN1dHNBcnJheTtcbiAgcmV0dXJuIHNob3J0Y3V0c0FycmF5Lm1hcChzaG9ydGN1dE9iaiA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgbmFtZVxuICAgIH0gPSBzaG9ydGN1dE9iajtcbiAgICBjb25zdCBlbnRyeVdpdGhTaG9ydGN1dCA9IG5ld0xhYmVsc0FycmF5LmZpbmQoX3JlZjIgPT4ge1xuICAgICAgbGV0IHtcbiAgICAgICAgc2hvcnRjdXRcbiAgICAgIH0gPSBfcmVmMjtcbiAgICAgIHJldHVybiBzaG9ydGN1dD8udG9Mb3dlckNhc2UoKSA9PT0gbmFtZT8udG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZW50cnlXaXRoU2hvcnRjdXQgPyB7XG4gICAgICAuLi5zaG9ydGN1dE9iaixcbiAgICAgIGxhYmVsOiBlbnRyeVdpdGhTaG9ydGN1dC5sYWJlbFxuICAgIH0gOiBzaG9ydGN1dE9iajtcbiAgfSk7XG59O1xuZXhwb3J0IHsgZXhwYW5kQWxsU2VjdGlvbnMsIGNvbGxhcHNlQWxsU2VjdGlvbnMsIGNoZWNrU2NvcGUsIGRlZmF1bHRLZXlib2FyZFNob3J0Y3V0cywga2V5Ym9hcmRTaG9ydGN1dE5hbWVzLCBpbXBvcnRTaG9ydGN1dHMsIHJlbmFtZVNob3J0Y3V0TGFiZWxzIH07IiwiLypcbiogSGFzQ29tbWFuZCBhcHBsaWVzIGEga2V5Ym9hcmQgc2hvcnRjdXQgdG8gYSB3cmFwcGVkIHNlY3Rpb24gb2YgdGhlIFVJXG4qIEdpdmVuIGEgJ25hbWUnIHByb3AsIGl0IGFzc2lnbnMgYSBoYW5kbGVyIGZ1bmN0aW9uIHRvIHRoZSBhc3NvY2lhdGVkXG4qIFNob3J0Y3V0IGZyb20gYSBwYXJlbnQgJ0NvbW1hbmRMaXN0J1xuKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgaXNFcXVhbCBmcm9tICdsb2Rhc2gvaXNFcXVhbCc7XG5pbXBvcnQgeyBIb3RLZXlzIH0gZnJvbSAnLi4vSG90S2V5cyc7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuY2xhc3MgSGFzQ29tbWFuZCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuZ2V0SGFuZGxlcnMgPSB0aGlzLmdldEhhbmRsZXJzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5nZXRLZXlNYXAgPSB0aGlzLmdldEtleU1hcC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlcnMgPSB0aGlzLmdldEhhbmRsZXJzKCk7XG4gICAgdGhpcy5rZXlNYXAgPSB0aGlzLmdldEtleU1hcCgpO1xuICB9XG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICBjb25zdCB7XG4gICAgICBjb21tYW5kc1xuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmICghaXNFcXVhbChjb21tYW5kcywgcHJldlByb3BzLmNvbW1hbmRzKSkge1xuICAgICAgdGhpcy5oYW5kbGVycyA9IHRoaXMuZ2V0SGFuZGxlcnMoKTtcbiAgICAgIHRoaXMua2V5TWFwID0gdGhpcy5nZXRLZXlNYXAoKTtcbiAgICAgIHRoaXMuZm9yY2VVcGRhdGUoKTtcbiAgICB9XG4gIH1cbiAgZ2V0SGFuZGxlcnMoKSB7XG4gICAgY29uc3Qge1xuICAgICAgY29tbWFuZHNcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBoYW5kbGVycyA9IHt9O1xuICAgIGNvbW1hbmRzLmZvckVhY2goYyA9PiB7XG4gICAgICBpZiAoYy5oYW5kbGVyKSB7XG4gICAgICAgIGhhbmRsZXJzW2MubmFtZV0gPSBjLmhhbmRsZXI7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGhhbmRsZXJzO1xuICB9XG4gIGdldEtleU1hcCgpIHtcbiAgICBjb25zdCB7XG4gICAgICBjb21tYW5kc1xuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGtleU1hcCA9IHt9O1xuICAgIGNvbW1hbmRzLmZvckVhY2goYyA9PiB7XG4gICAgICBpZiAoYy5zaG9ydGN1dCkge1xuICAgICAgICBrZXlNYXBbYy5uYW1lXSA9IGMuc2hvcnRjdXQ7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKE9iamVjdC5rZXlzKGtleU1hcCkubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGtleU1hcDtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgY2hpbGRyZW4sXG4gICAgICBpZCxcbiAgICAgIGlzV2l0aGluU2NvcGUsXG4gICAgICBzY29wZVxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeChIb3RLZXlzLCB7XG4gICAgICBpZDogaWQsXG4gICAgICBrZXlNYXA6IHRoaXMua2V5TWFwLFxuICAgICAgaGFuZGxlcnM6IHRoaXMuaGFuZGxlcnMsXG4gICAgICBmb2N1c2VkOiBpc1dpdGhpblNjb3BlLFxuICAgICAgYXR0YWNoOiBzY29wZSxcbiAgICAgIG5vV3JhcHBlcjogdHJ1ZSxcbiAgICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuICAgIH0pO1xuICB9XG59XG5IYXNDb21tYW5kLnByb3BUeXBlcyA9IHtcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5ub2RlLCBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMubm9kZSldKS5pc1JlcXVpcmVkLFxuICBjb21tYW5kczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9iamVjdCksXG4gIGlkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBpc1dpdGhpblNjb3BlOiBQcm9wVHlwZXMuZnVuYyxcbiAgc2NvcGU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5ub2RlLCBQcm9wVHlwZXMuaW5zdGFuY2VPZihFbGVtZW50KSwgUHJvcFR5cGVzLm9iamVjdF0pXG59O1xuSGFzQ29tbWFuZC5kaXNwbGF5TmFtZSA9IFwiSGFzQ29tbWFuZFwiO1xuZXhwb3J0IGRlZmF1bHQgSGFzQ29tbWFuZDtcbjtcbkhhc0NvbW1hbmQuX19kb2NnZW5JbmZvID0ge1xuICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gIFwibWV0aG9kc1wiOiBbe1xuICAgIFwibmFtZVwiOiBcImdldEhhbmRsZXJzXCIsXG4gICAgXCJkb2NibG9ja1wiOiBudWxsLFxuICAgIFwibW9kaWZpZXJzXCI6IFtdLFxuICAgIFwicGFyYW1zXCI6IFtdLFxuICAgIFwicmV0dXJuc1wiOiBudWxsXG4gIH0sIHtcbiAgICBcIm5hbWVcIjogXCJnZXRLZXlNYXBcIixcbiAgICBcImRvY2Jsb2NrXCI6IG51bGwsXG4gICAgXCJtb2RpZmllcnNcIjogW10sXG4gICAgXCJwYXJhbXNcIjogW10sXG4gICAgXCJyZXR1cm5zXCI6IG51bGxcbiAgfV0sXG4gIFwiZGlzcGxheU5hbWVcIjogXCJIYXNDb21tYW5kXCIsXG4gIFwicHJvcHNcIjoge1xuICAgIFwiY2hpbGRyZW5cIjoge1xuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgICAgXCJ0eXBlXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwidW5pb25cIixcbiAgICAgICAgXCJ2YWx1ZVwiOiBbe1xuICAgICAgICAgIFwibmFtZVwiOiBcIm5vZGVcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiYXJyYXlPZlwiLFxuICAgICAgICAgIFwidmFsdWVcIjoge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwibm9kZVwiXG4gICAgICAgICAgfVxuICAgICAgICB9XVxuICAgICAgfSxcbiAgICAgIFwicmVxdWlyZWRcIjogdHJ1ZVxuICAgIH0sXG4gICAgXCJjb21tYW5kc1wiOiB7XG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICAgICBcInR5cGVcIjoge1xuICAgICAgICBcIm5hbWVcIjogXCJhcnJheU9mXCIsXG4gICAgICAgIFwidmFsdWVcIjoge1xuICAgICAgICAgIFwibmFtZVwiOiBcIm9iamVjdFwiXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcInJlcXVpcmVkXCI6IGZhbHNlXG4gICAgfSxcbiAgICBcImlkXCI6IHtcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgICAgIFwidHlwZVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcInN0cmluZ1wiXG4gICAgICB9LFxuICAgICAgXCJyZXF1aXJlZFwiOiBmYWxzZVxuICAgIH0sXG4gICAgXCJpc1dpdGhpblNjb3BlXCI6IHtcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgICAgIFwidHlwZVwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcImZ1bmNcIlxuICAgICAgfSxcbiAgICAgIFwicmVxdWlyZWRcIjogZmFsc2VcbiAgICB9LFxuICAgIFwic2NvcGVcIjoge1xuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgICAgXCJ0eXBlXCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IFwidW5pb25cIixcbiAgICAgICAgXCJ2YWx1ZVwiOiBbe1xuICAgICAgICAgIFwibmFtZVwiOiBcIm5vZGVcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgXCJuYW1lXCI6IFwiaW5zdGFuY2VPZlwiLFxuICAgICAgICAgIFwidmFsdWVcIjogXCJFbGVtZW50XCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIFwibmFtZVwiOiBcIm9iamVjdFwiXG4gICAgICAgIH1dXG4gICAgICB9LFxuICAgICAgXCJyZXF1aXJlZFwiOiBmYWxzZVxuICAgIH1cbiAgfVxufTsiLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBDb21tYW5kTGlzdCwgSGFzQ29tbWFuZCwgZGVmYXVsdEtleWJvYXJkU2hvcnRjdXRzIH0gZnJvbSAnLi4vLi4vQ29tbWFuZGVyJztcbmltcG9ydCBUZXh0RmllbGQgZnJvbSAnLi4vLi4vVGV4dEZpZWxkJztcbmltcG9ydCBCdXR0b24gZnJvbSAnLi4vLi4vQnV0dG9uJztcbmltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5leHBvcnQgZGVmYXVsdCAoKCkgPT4ge1xuICBjb25zdCBbc2F2ZUVuYWJsZWQsIHVwZGF0ZVNhdmVFbmFibGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3Qgc2F2ZUhhbmRsZXIgPSBlID0+IHtcbiAgICBlPy5wcmV2ZW50RGVmYXVsdCgpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgaWYgKHNhdmVFbmFibGVkKSB7XG4gICAgICBhbGVydCgnZGF0YSBzYXZlZCEnKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgdXBkYXRlU2F2ZUVuYWJsZWQoZmFsc2UpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZm9ybUNoYW5nZSA9ICgpID0+IHtcbiAgICB1cGRhdGVTYXZlRW5hYmxlZCh0cnVlKTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlcnMgPSBbe1xuICAgIG5hbWU6ICdzYXZlJyxcbiAgICBoYW5kbGVyOiBzYXZlSGFuZGxlclxuICB9XTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KENvbW1hbmRMaXN0LCB7XG4gICAgY29tbWFuZHM6IGRlZmF1bHRLZXlib2FyZFNob3J0Y3V0cyxcbiAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goSGFzQ29tbWFuZCwge1xuICAgICAgY29tbWFuZHM6IGhhbmRsZXJzLFxuICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4cyhcImZpZWxkc2V0XCIsIHtcbiAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChcImxlZ2VuZFwiLCB7XG4gICAgICAgICAgY2hpbGRyZW46IFwiRm9ybSBIb3RrZXlzXCJcbiAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwicFwiLCB7XG4gICAgICAgICAgY2hpbGRyZW46IFwiQ3RybCArIHMgaXMgdGhlIHNhdmUga2V5IHdoZW4gdGhlIGZvcm0gZWxlbWVudHMgYXJlIGZvY3VzZWQuLi5cIlxuICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goVGV4dEZpZWxkLCB7XG4gICAgICAgICAgb25DaGFuZ2U6IGZvcm1DaGFuZ2UsXG4gICAgICAgICAgbGFiZWw6IFwiQ29tbWFuZCBmaWVsZFwiXG4gICAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChCdXR0b24sIHtcbiAgICAgICAgICBkaXNhYmxlZDogIXNhdmVFbmFibGVkLFxuICAgICAgICAgIG9uQ2xpY2s6IHNhdmVIYW5kbGVyLFxuICAgICAgICAgIGNoaWxkcmVuOiBcIlNhdmVcIlxuICAgICAgICB9KV1cbiAgICAgIH0pXG4gICAgfSlcbiAgfSk7XG59KTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEJhc2ljVXNhZ2UgZnJvbSAnLi9CYXNpY1VzYWdlJztcbmltcG9ydCBDb21tYW5kTGlzdFVzYWdlIGZyb20gJy4vQ29tbWFuZExpc3QnO1xuaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmV4cG9ydCBkZWZhdWx0IHtcbiAgdGl0bGU6ICdIb3RLZXlzJ1xufTtcbmV4cG9ydCBjb25zdCBfQmFzaWNVc2FnZSA9ICgpID0+IC8qI19fUFVSRV9fKi9fanN4KEJhc2ljVXNhZ2UsIHt9KTtcbl9CYXNpY1VzYWdlLmRpc3BsYXlOYW1lID0gXCJfQmFzaWNVc2FnZVwiO1xuZXhwb3J0IGNvbnN0IENvbW1hbmRMaXN0ID0gKCkgPT4gLyojX19QVVJFX18qL19qc3goQ29tbWFuZExpc3RVc2FnZSwge30pO1xuQ29tbWFuZExpc3QuZGlzcGxheU5hbWUgPSBcIkNvbW1hbmRMaXN0XCI7XG5Db21tYW5kTGlzdC5zdG9yeU5hbWUgPSAnQ29tbWFuZExpc3QnO1xuX0Jhc2ljVXNhZ2UucGFyYW1ldGVycyA9IHtcbiAgLi4uX0Jhc2ljVXNhZ2UucGFyYW1ldGVycyxcbiAgZG9jczoge1xuICAgIC4uLl9CYXNpY1VzYWdlLnBhcmFtZXRlcnM/LmRvY3MsXG4gICAgc291cmNlOiB7XG4gICAgICBvcmlnaW5hbFNvdXJjZTogXCIoKSA9PiA8QmFzaWNVc2FnZSAvPlwiLFxuICAgICAgLi4uX0Jhc2ljVXNhZ2UucGFyYW1ldGVycz8uZG9jcz8uc291cmNlXG4gICAgfVxuICB9XG59O1xuQ29tbWFuZExpc3QucGFyYW1ldGVycyA9IHtcbiAgLi4uQ29tbWFuZExpc3QucGFyYW1ldGVycyxcbiAgZG9jczoge1xuICAgIC4uLkNvbW1hbmRMaXN0LnBhcmFtZXRlcnM/LmRvY3MsXG4gICAgc291cmNlOiB7XG4gICAgICBvcmlnaW5hbFNvdXJjZTogXCIoKSA9PiA8Q29tbWFuZExpc3RVc2FnZSAvPlwiLFxuICAgICAgLi4uQ29tbWFuZExpc3QucGFyYW1ldGVycz8uZG9jcz8uc291cmNlXG4gICAgfVxuICB9XG59OztleHBvcnQgY29uc3QgX19uYW1lZEV4cG9ydHNPcmRlciA9IFtcIl9CYXNpY1VzYWdlXCIsXCJDb21tYW5kTGlzdFwiXTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/HotKeys/stories/HotKeys.stories.js\n')},"./util/getFocusableElements.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Ec: () => (/* binding */ getNextFocusable),\n/* harmony export */   Fy: () => (/* binding */ FOCUSABLE_SELECTOR),\n/* harmony export */   cE: () => (/* binding */ getPreviousFocusable),\n/* harmony export */   dm: () => (/* binding */ getLastFocusable),\n/* harmony export */   j5: () => (/* binding */ getFirstFocusable)\n/* harmony export */ });\n/* harmony import */ var lodash_first__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/lodash/first.js");\n/* harmony import */ var lodash_first__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_first__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash_last__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/lodash/last.js");\n/* harmony import */ var lodash_last__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_last__WEBPACK_IMPORTED_MODULE_1__);\n/**\n * @typedef {Function} getNextFocusable()\n *    @description Returns next/previous focusable DOM element, respectively\n *   Params:\n *     @param {object} currentElement\n *       DOM element - starting element for search. Returns next focused element AFTER this element.\n *     @param {bool} includeContained\n *       Default: true. Will return the next focusable item within the current element. If false, returned\n *       element will be outside of the container,\n *      @param {bool} onlyContained\n *       Default: false. If true and includeContaining is true, the search is limited only to\n *        elements within the container.\n *     @param {bool} loop\n *       Default: true. Elements are chosen by index. If the index is beyond the end of the list,\n *       the first element will be returned.\n *       If the index is before the start of the list, the last element will be returned.\n*/\n\n\n\n\n// eslint-disable-next-line max-len\nconst FOCUSABLE_SELECTOR = \'a:not([disabled]), button:not([disabled]), input:not([disabled]), textarea:not([disabled]), select:not([disabled]), [tabindex]:not([disabled]):not([tabindex="-1"]), [tabIndex="-1"]:not([disabled]):focus\';\nfunction getVisibleFocusableElements() {\n  let container = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n  let includeContained = arguments.length > 1 ? arguments[1] : undefined;\n  let currentElement = arguments.length > 2 ? arguments[2] : undefined;\n  if (container.querySelectorAll) {\n    return Array.from(container.querySelectorAll(FOCUSABLE_SELECTOR)).filter(element => {\n      if (!includeContained) {\n        if (element === currentElement) {\n          return true;\n        }\n        if (currentElement && currentElement.contains(element)) {\n          return false;\n        }\n      }\n      if (element.matches(\'[data-focus-exclude]\')) {\n        return false;\n      }\n\n      // check for visibility while always include the current activeElement\n      return element.offsetWidth > 0 || element.offsetHeight > 0 || element === document.activeElement;\n    });\n  }\n  return [];\n}\nfunction getNextorPrevious(collection, current, loop, next) {\n  let nullOnExit = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n  let index = collection.indexOf(current);\n  if (index === -1) {\n    index = collection.indexOf(document.activeElement);\n  }\n  const nextElement = collection[index + 1];\n  const previousElement = collection[index - 1];\n\n  // First determine if travelling forwards or backwards through the list\n  if (next) {\n    // If looping then loop to beginning if nextElement is null\n    if (loop) {\n      return nextElement || collection[0];\n    }\n\n    // If nullOnExit then return null if nextElement is null\n    if (nullOnExit) {\n      return nextElement;\n    }\n\n    // Else return end of the list if nextElement is null\n    return collection[index + 1] || collection[collection.length - 1];\n  } else {\n    // If looping then loop to end if previousElement is null\n    if (loop) {\n      return previousElement || collection[collection.length - 1];\n    }\n\n    // If nullOnExit then return null if previousElement is null\n    if (nullOnExit) {\n      return previousElement;\n    }\n\n    // Else return beginning of the list if previousElement is null\n    return collection[index - 1] || collection[0];\n  }\n}\nfunction getFocusableElement(next, currentElement) {\n  let includeContained = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  let onlyContained = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  let loop = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  let nullOnExit = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n  const container = includeContained && onlyContained ? currentElement : document;\n  const focusable = getVisibleFocusableElements(container, includeContained, currentElement);\n  if (focusable.length > 0) {\n    return getNextorPrevious(focusable, currentElement, loop, next, nullOnExit);\n  }\n  return null;\n}\nfunction getNextFocusable() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  return getFocusableElement(true, ...args);\n}\nfunction getPreviousFocusable() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n  return getFocusableElement(false, ...args);\n}\nfunction getLastFocusable(container) {\n  return lodash_last__WEBPACK_IMPORTED_MODULE_1___default()(getVisibleFocusableElements(container));\n}\nfunction getFirstFocusable(container) {\n  return lodash_first__WEBPACK_IMPORTED_MODULE_0___default()(getVisibleFocusableElements(container));\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlsL2dldEZvY3VzYWJsZUVsZW1lbnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZm9saW8vc3RyaXBlcy1jb21wb25lbnRzLy4vdXRpbC9nZXRGb2N1c2FibGVFbGVtZW50cy5qcz9mNzkxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHR5cGVkZWYge0Z1bmN0aW9ufSBnZXROZXh0Rm9jdXNhYmxlKClcbiAqICAgIEBkZXNjcmlwdGlvbiBSZXR1cm5zIG5leHQvcHJldmlvdXMgZm9jdXNhYmxlIERPTSBlbGVtZW50LCByZXNwZWN0aXZlbHlcbiAqICAgUGFyYW1zOlxuICogICAgIEBwYXJhbSB7b2JqZWN0fSBjdXJyZW50RWxlbWVudFxuICogICAgICAgRE9NIGVsZW1lbnQgLSBzdGFydGluZyBlbGVtZW50IGZvciBzZWFyY2guIFJldHVybnMgbmV4dCBmb2N1c2VkIGVsZW1lbnQgQUZURVIgdGhpcyBlbGVtZW50LlxuICogICAgIEBwYXJhbSB7Ym9vbH0gaW5jbHVkZUNvbnRhaW5lZFxuICogICAgICAgRGVmYXVsdDogdHJ1ZS4gV2lsbCByZXR1cm4gdGhlIG5leHQgZm9jdXNhYmxlIGl0ZW0gd2l0aGluIHRoZSBjdXJyZW50IGVsZW1lbnQuIElmIGZhbHNlLCByZXR1cm5lZFxuICogICAgICAgZWxlbWVudCB3aWxsIGJlIG91dHNpZGUgb2YgdGhlIGNvbnRhaW5lcixcbiAqICAgICAgQHBhcmFtIHtib29sfSBvbmx5Q29udGFpbmVkXG4gKiAgICAgICBEZWZhdWx0OiBmYWxzZS4gSWYgdHJ1ZSBhbmQgaW5jbHVkZUNvbnRhaW5pbmcgaXMgdHJ1ZSwgdGhlIHNlYXJjaCBpcyBsaW1pdGVkIG9ubHkgdG9cbiAqICAgICAgICBlbGVtZW50cyB3aXRoaW4gdGhlIGNvbnRhaW5lci5cbiAqICAgICBAcGFyYW0ge2Jvb2x9IGxvb3BcbiAqICAgICAgIERlZmF1bHQ6IHRydWUuIEVsZW1lbnRzIGFyZSBjaG9zZW4gYnkgaW5kZXguIElmIHRoZSBpbmRleCBpcyBiZXlvbmQgdGhlIGVuZCBvZiB0aGUgbGlzdCxcbiAqICAgICAgIHRoZSBmaXJzdCBlbGVtZW50IHdpbGwgYmUgcmV0dXJuZWQuXG4gKiAgICAgICBJZiB0aGUgaW5kZXggaXMgYmVmb3JlIHRoZSBzdGFydCBvZiB0aGUgbGlzdCwgdGhlIGxhc3QgZWxlbWVudCB3aWxsIGJlIHJldHVybmVkLlxuKi9cblxuaW1wb3J0IGZpcnN0IGZyb20gJ2xvZGFzaC9maXJzdCc7XG5pbXBvcnQgbGFzdCBmcm9tICdsb2Rhc2gvbGFzdCc7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG5leHBvcnQgY29uc3QgRk9DVVNBQkxFX1NFTEVDVE9SID0gJ2E6bm90KFtkaXNhYmxlZF0pLCBidXR0b246bm90KFtkaXNhYmxlZF0pLCBpbnB1dDpub3QoW2Rpc2FibGVkXSksIHRleHRhcmVhOm5vdChbZGlzYWJsZWRdKSwgc2VsZWN0Om5vdChbZGlzYWJsZWRdKSwgW3RhYmluZGV4XTpub3QoW2Rpc2FibGVkXSk6bm90KFt0YWJpbmRleD1cIi0xXCJdKSwgW3RhYkluZGV4PVwiLTFcIl06bm90KFtkaXNhYmxlZF0pOmZvY3VzJztcbmZ1bmN0aW9uIGdldFZpc2libGVGb2N1c2FibGVFbGVtZW50cygpIHtcbiAgbGV0IGNvbnRhaW5lciA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZG9jdW1lbnQ7XG4gIGxldCBpbmNsdWRlQ29udGFpbmVkID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG4gIGxldCBjdXJyZW50RWxlbWVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkO1xuICBpZiAoY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShjb250YWluZXIucXVlcnlTZWxlY3RvckFsbChGT0NVU0FCTEVfU0VMRUNUT1IpKS5maWx0ZXIoZWxlbWVudCA9PiB7XG4gICAgICBpZiAoIWluY2x1ZGVDb250YWluZWQpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQgPT09IGN1cnJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnRFbGVtZW50ICYmIGN1cnJlbnRFbGVtZW50LmNvbnRhaW5zKGVsZW1lbnQpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZWxlbWVudC5tYXRjaGVzKCdbZGF0YS1mb2N1cy1leGNsdWRlXScpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy8gY2hlY2sgZm9yIHZpc2liaWxpdHkgd2hpbGUgYWx3YXlzIGluY2x1ZGUgdGhlIGN1cnJlbnQgYWN0aXZlRWxlbWVudFxuICAgICAgcmV0dXJuIGVsZW1lbnQub2Zmc2V0V2lkdGggPiAwIHx8IGVsZW1lbnQub2Zmc2V0SGVpZ2h0ID4gMCB8fCBlbGVtZW50ID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBbXTtcbn1cbmZ1bmN0aW9uIGdldE5leHRvclByZXZpb3VzKGNvbGxlY3Rpb24sIGN1cnJlbnQsIGxvb3AsIG5leHQpIHtcbiAgbGV0IG51bGxPbkV4aXQgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IGZhbHNlO1xuICBsZXQgaW5kZXggPSBjb2xsZWN0aW9uLmluZGV4T2YoY3VycmVudCk7XG4gIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICBpbmRleCA9IGNvbGxlY3Rpb24uaW5kZXhPZihkb2N1bWVudC5hY3RpdmVFbGVtZW50KTtcbiAgfVxuICBjb25zdCBuZXh0RWxlbWVudCA9IGNvbGxlY3Rpb25baW5kZXggKyAxXTtcbiAgY29uc3QgcHJldmlvdXNFbGVtZW50ID0gY29sbGVjdGlvbltpbmRleCAtIDFdO1xuXG4gIC8vIEZpcnN0IGRldGVybWluZSBpZiB0cmF2ZWxsaW5nIGZvcndhcmRzIG9yIGJhY2t3YXJkcyB0aHJvdWdoIHRoZSBsaXN0XG4gIGlmIChuZXh0KSB7XG4gICAgLy8gSWYgbG9vcGluZyB0aGVuIGxvb3AgdG8gYmVnaW5uaW5nIGlmIG5leHRFbGVtZW50IGlzIG51bGxcbiAgICBpZiAobG9vcCkge1xuICAgICAgcmV0dXJuIG5leHRFbGVtZW50IHx8IGNvbGxlY3Rpb25bMF07XG4gICAgfVxuXG4gICAgLy8gSWYgbnVsbE9uRXhpdCB0aGVuIHJldHVybiBudWxsIGlmIG5leHRFbGVtZW50IGlzIG51bGxcbiAgICBpZiAobnVsbE9uRXhpdCkge1xuICAgICAgcmV0dXJuIG5leHRFbGVtZW50O1xuICAgIH1cblxuICAgIC8vIEVsc2UgcmV0dXJuIGVuZCBvZiB0aGUgbGlzdCBpZiBuZXh0RWxlbWVudCBpcyBudWxsXG4gICAgcmV0dXJuIGNvbGxlY3Rpb25baW5kZXggKyAxXSB8fCBjb2xsZWN0aW9uW2NvbGxlY3Rpb24ubGVuZ3RoIC0gMV07XG4gIH0gZWxzZSB7XG4gICAgLy8gSWYgbG9vcGluZyB0aGVuIGxvb3AgdG8gZW5kIGlmIHByZXZpb3VzRWxlbWVudCBpcyBudWxsXG4gICAgaWYgKGxvb3ApIHtcbiAgICAgIHJldHVybiBwcmV2aW91c0VsZW1lbnQgfHwgY29sbGVjdGlvbltjb2xsZWN0aW9uLmxlbmd0aCAtIDFdO1xuICAgIH1cblxuICAgIC8vIElmIG51bGxPbkV4aXQgdGhlbiByZXR1cm4gbnVsbCBpZiBwcmV2aW91c0VsZW1lbnQgaXMgbnVsbFxuICAgIGlmIChudWxsT25FeGl0KSB7XG4gICAgICByZXR1cm4gcHJldmlvdXNFbGVtZW50O1xuICAgIH1cblxuICAgIC8vIEVsc2UgcmV0dXJuIGJlZ2lubmluZyBvZiB0aGUgbGlzdCBpZiBwcmV2aW91c0VsZW1lbnQgaXMgbnVsbFxuICAgIHJldHVybiBjb2xsZWN0aW9uW2luZGV4IC0gMV0gfHwgY29sbGVjdGlvblswXTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0Rm9jdXNhYmxlRWxlbWVudChuZXh0LCBjdXJyZW50RWxlbWVudCkge1xuICBsZXQgaW5jbHVkZUNvbnRhaW5lZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogdHJ1ZTtcbiAgbGV0IG9ubHlDb250YWluZWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IGZhbHNlO1xuICBsZXQgbG9vcCA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDogdHJ1ZTtcbiAgbGV0IG51bGxPbkV4aXQgPSBhcmd1bWVudHMubGVuZ3RoID4gNSAmJiBhcmd1bWVudHNbNV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s1XSA6IGZhbHNlO1xuICBjb25zdCBjb250YWluZXIgPSBpbmNsdWRlQ29udGFpbmVkICYmIG9ubHlDb250YWluZWQgPyBjdXJyZW50RWxlbWVudCA6IGRvY3VtZW50O1xuICBjb25zdCBmb2N1c2FibGUgPSBnZXRWaXNpYmxlRm9jdXNhYmxlRWxlbWVudHMoY29udGFpbmVyLCBpbmNsdWRlQ29udGFpbmVkLCBjdXJyZW50RWxlbWVudCk7XG4gIGlmIChmb2N1c2FibGUubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBnZXROZXh0b3JQcmV2aW91cyhmb2N1c2FibGUsIGN1cnJlbnRFbGVtZW50LCBsb29wLCBuZXh0LCBudWxsT25FeGl0KTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXROZXh0Rm9jdXNhYmxlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG4gIHJldHVybiBnZXRGb2N1c2FibGVFbGVtZW50KHRydWUsIC4uLmFyZ3MpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFByZXZpb3VzRm9jdXNhYmxlKCkge1xuICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gIH1cbiAgcmV0dXJuIGdldEZvY3VzYWJsZUVsZW1lbnQoZmFsc2UsIC4uLmFyZ3MpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldExhc3RGb2N1c2FibGUoY29udGFpbmVyKSB7XG4gIHJldHVybiBsYXN0KGdldFZpc2libGVGb2N1c2FibGVFbGVtZW50cyhjb250YWluZXIpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaXJzdEZvY3VzYWJsZShjb250YWluZXIpIHtcbiAgcmV0dXJuIGZpcnN0KGdldFZpc2libGVGb2N1c2FibGVFbGVtZW50cyhjb250YWluZXIpKTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./util/getFocusableElements.js\n')}}]);